<main>
    <section class="ps-search-bar navbar navbar-default">
        <div class="container-fluid">
            <form class="ps-search navbar-form navbar-left" ng-submit="doSearch()">
                <input type="search" class="form-control" ng-model="searchText" placeholder="{{ 'search_text' | translate }}"/>
                <input type="submit" class="btn btn-default" value="{{ 'search_text' | translate }}">
            </form>

            <ui class="nav navbar-nav">
                <li ng-class="{ active:videoTabSelected() }"><a href ng-click="showVideos()">{{ "videos_text" | translate }} <span class="badge ps-badge" ng-show="numVideos()>0">{{numVideos()}}</span></a></li>
                <li ng-class="{ active:channelTabSelected() }"><a href ng-click="showChannels()">{{ "channels_text" | translate }} <span class="badge ps-badge" ng-show="numChannels()>0">{{numChannels()}}</span></a></li>
                <li ng-class="{ active:myVideosTabSelected() }"><a href ng-click="showMyVideos()">{{ "myvideos_text" | translate }} <span class="badge ps-badge" ng-show="numMyVideos()>0">{{numMyVideos()}}</span></a></li>
            </ui>

            <ui class="nav navbar-nav pull-right">
                <li>
                    <div class="ps-search-bar-container" dropdown is-open="status.isopen">
                        <button type="button" class="btn btn-default dropdown-toggle" dropdown-toggle ng-disabled="disabled">
                            {{ "sort" | translate }} <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-right" role="menu">
                            <li><a href="" ng-click="sortDefault()">{{ "sort_default" | translate }}</a></li>
                            <li role="separator" class="divider"></li>
                            <li><a href="" ng-click="sortName()">{{ "sort_name" | translate }}</a></li>
                            <li><a href="" ng-click="sortDate()">{{ "sort_date" | translate }}</a></li>
                            <li><a href="" ng-click="sortAuthor()">{{ "sort_author" | translate }}</a></li>
                        </ul>
                    </div>
                </li>
            </ui>
        </div>
    </section>
    <section class="ps-current-channel" ng-show="channelData">
        <h1>
            {{channelData.title}}
            <span class="ps-header-link dropdown" dropdown on-toggle="loadChannelParents(channelId)" ng-show="channelId">
              <a href class="dropdown-toggle" dropdown-toggle>
                  {{ "parent_channels_text" | translate }}
              </a>
              <ul class="dropdown-menu">
                  <li ng-repeat="parent in parents" ng-show="parent._id!='default'">
                      <a href ng-href="#/catalog/channel/{{parent._id}}">{{parent.title}}</a>
                  </li>
              </ul>
            </span>
        </h1>
    </section>
    <section class="ps-current-channel" ng-hide="channelId">
        <h1>
            {{ "featured_videos_text" | translate }}
            <span class="ps-video-counter pull-right" ng-show="totalVideos">{{totalVideos}} {{ "available_videos_text" | translate }}</span>
        </h1>

    </section>

    <section class="ps-loader-container col-xs-offset-4 col-xs-4" ng-show="loading">
        <span class="ps-loader"></span>
    </section>

    <section class="ps-channel-list row" ng-show="channelTabSelected()">
        <div class="col-md-6 col-xs-12" ng-repeat="channel in channels">
            <channel-item channel="channel" is-admin="isAdmin" is-search="isSearch" show-parents="true"></channel-item>
        </div>
    </section>
    <section class="ps-video-list row" ng-show="videoTabSelected()">
        <div class="col-md-3 col-sm-4 col-xs-12" ng-repeat="video in videos">
            <video-item video="video" is-admin="isAdmin" is-search="isSearch" show-parents="true"></video-item>
        </div>
    </section>

    <section class="ps-video-list row" ng-show="myVideosTabSelected()">
        <div class="col-md-3 col-sm-4 col-xs-12" ng-repeat="video in myVideos">
            <video-item video="video" is-admin="isAdmin" is-search="isSearch" show-parents="true"></video-item>
        </div>
    </section>
</main>
